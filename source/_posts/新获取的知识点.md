---
title: 新获取的知识点
date: 2017-09-12 10:31:26
categories:
- 随笔
tags: e2e
toc: true
---

记录一些在学习过程中get到的新知识点。

### e2e
e2e或者端到端（end-to-end）或者UI测试是一种测试方法，它用来测试一个应用从头到尾的流程是否和设计时候所想的一样。简而言之，它从一个用户的角度出发，认为整个系统都是一个黑箱，只有UI会暴露给用户。

具体链接看：http://sentsin.com/web/658.html
<!--more-->
### angular1.5

#### 指令的transclude选项以及ng-transclude指令
<code style="color: #c7254e; background-color: #f9f2f4">transclude</code>字面意思就是嵌入，也就是说你需不需要将你的指令内部的元素（注意不是指令的模板）嵌入到你的模板中去，默认是false。

### Linux

#### ubuntu

- 安装python模块：`sudo apt-get update`，`sudo apt-get install python-websocket`
- 安装jdk：`sudo apt-get install openjdk-8-jdk`

### Git

clone 某个分支：
```
git clone -b b1 https://github.com/...
```
clone 指定目录:
```
git clone https://github.com/... directory
```

git stash: 备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。

git stash pop: 从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。


### Node

debug:
```
在chrome中debug：
1. 安装插件node-inspector
    npm install -g node-inspector
    node-debug main.js

ps：如果不能正常安装node-inspector，把npm回退到5.3.0
```

### 单元测试

最简单的示例代码：
```javascript
descript('模块名', function () {
    it('期待的正确行为与结果', function () {  
        ...测试代码

        assert.equal({期待的结果}, {实际的结果});
    })
})

```
#### Sinon

```javascript
// 入口：sinon对象（全局对象）
let sandbox = sinon.sandbox.create();

// 方法：stub，替代对象原生的方法，当调用之后直接返回给定的结果
sandbox.stub({对象}, '方法名').returns('直接返回的结果');

// 取消对方法的监视
sandbox.restore();

// 方法：spy，模拟一个函数，记录它被调用的参数以及调用次数
// 1. 创建一个匿名函数
var callback = sinon.spy();
PubSub.subscribe("message", callback);

PubSub.publishSync("message");

assertTrue(callback.called);

// 2. 包装一个已经存在的函数
sinon.spy(jQuery, 'ajax');

jQuery.getJSON("/some/resource");

assert(jQuery.ajax.calledOnce);
```

### Vue

- 引入css文件：`@import './default.css'`

### npm 

- nrm: 快速切换npm源

### js

Array数组排序方法sort的返回必须是**两个值相减**，不能是大于小于相比。因为排序似乎使用返回值和0，-1，1比较来排序的。

#### 判断浏览器
```javascript
const ua = window.navigator.userAgent;
const isIE = window.ActiveXObject !== undefined && ua.includes('MSIE');
const isIE11 = ua.includes('Trident') && ua.includes('rv:11.0');
const isEdge = ua.includes('Edge');
const isFirefox = ua.includes('Firefox');
const isChrome = (ua.includes('Chrome') && window.chrome)) || ua.match('CriOS'); // 'CriOS'判断在ipad上是不是chrome
const isSafari = ua.includes('Safari') && ua.includes('Version');
const isQQBrower = ua.includes('QQBrowser');
const is360EE = ua.includes('360EE');
const is360SE = ua.includes('360SE');
const isSouGou = ua.includes('MetaSr');
const hasMine = navigator.mimeTypes['application/vnd.chromium.remoting-viewer']; // 360浏览器判断(ps: 不确定)
```